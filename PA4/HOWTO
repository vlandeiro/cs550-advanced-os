# Launch Redis

- On every node, run the redis server in background:

redis-server ./redis.conf > log_redis 2>&1

- On one node only, run:

redis-trib.rb create --replicas 0 ip0:7000 ip1:7000 etc

# Launch Cassandra

- Stop cassandra if it is running:

sudo service cassandra stop

- Clear the data:

sudo rm -rf /var/lib/cassandra/data/system/*

- Change seeds in /etc/cassandra/conf/cassandra.yaml file:

from seeds: "127.0.0.1" to seeds: "ip0,ip1"

- Start the cluster

sudo service cassandra start

# Launch Riak

- Add actual hostname to riak erlang local config

sed -i "s/127.0.0.1/`hostname -i`/" /etc/riak/vm.args

- Bind the various riak services to all IPs in the riak app config

sed -i "s/127.0.0.1/0.0.0.0/" /etc/riak/app.config

- Start all the nodes:

sudo riak start

- On all nodes but the first, join first node:

sudo riak-admin cluster join riak@ip0

- Run on first node:

sudo riak-admin cluster plan

- If plan is okay, run:

sudo riak-admin cluster commit

